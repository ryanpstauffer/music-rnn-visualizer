<html>
  <head>
    <title>Music RNN Visualizer</title>
    <link rel="shortcut icon" type="image/png" href="images/favicon.png"/>
    <link href="styles/style.css" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons"
     rel="stylesheet">
    <script src="https://d3js.org/d3.v5.min.js" charset="utf-8"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@0.13.0"></script>
    <script src="third-party/Tone.min.js" charset="utf-8"></script>
    <script src="third-party/vexflow-min.js" charset="utf-8"></script>
    <script src="scripts/keyboard_element.js" charset="utf-8"></script>
  </head>

  <body>
    <div class="flex-container">
      <div id="ui">
        <div class="ui-flex-container">
          <div class="modelBuilder">
            <h3>1. Select a hidden layer size and build the network</h3>
            <span>Hidden Layer Size:</span>
            <span id="hiddenLayerValue" class="value"></span>
            <input type="range" min="2" max="8" value="4" class="slider"
             id="hiddenLayerSlider">
            <button type="button" id="build" class="button">Build Model</button>
          </div>
          <div class="modelTrainer">
            <h3>2. Enter a melody for the network to learn</h3>
            <div id="score"></div>
            <div id="inputKeyboard" class="hidden"></div>
            <span>Step-through</span>
            <input type="range" min="0" max="1" value="0" class="slider"
             id="autoLearnSlider">
            <span>Auto</span>
            <button type="button" id="learn" class="button">Learn</button>
            <button type="button" id="clearMelody" class="button">Clear</button>
          </div>
          <div id="controls">
            <h3>3. Listen to the network</h3>
          <!--  <button type="button" id="step" class="button">Play Step</button>-->
            <div class="playback">
              <span>Tempo</span>
              <input type="range" min="20" max="200" value="60" class="slider"
               id="tempoSlider">
              <button id="playButton">&#x25b6</button>
            </div>
          </div>
        </div>
      </div>

      <div id="networkVisualization">
        <table id="progress">
          <thead>
            <tr>
              <th id="loss" class="progressHeader">
                <span>Current Loss</span>
              </th>
              <th id="correct" class="progressHeader">
                <span>Number Correct</span>
              </th>
              <th id="timeStep" class="progressHeader">
                <span>Current Time Step</span>
              </th>
              <th id="numUpdates" class="progressHeader">
                <span>Number of Training Updates</span>
              </th>
            </tr>
          </thead>
          <tbody>
            <tr class="progressValue">
              <td>
                <span id="currentLoss">0</span>
              </td>
              <td>
                <span id="numCorrect">0</span>
              </td>
              <td>
                <span id="currentTimeStep">0</span>
              </td>
              <td>
                <span id="currentNumUpdates">0</span>
              </td>
            </tr>
          </tbody>
        </table>
        <span id="warning" class="hidden">Warning: Model did not converge</span>
        <div class="networkStages" height="800px" width="100%"></div>
        <div id="outputKeyboard" class="hidden" width="600px"
         height="200px"></div>
        <div id="targetScore"></div>
      </div>
    <script src="scripts/main.js" type="module" charset="utf-8"></script>
  </body>
</html>
